# How to Learn to Perform a Complete Penetration Test (PenTest) through Various Practical Examples

### Types of Penetration Testing -- An In-Depth View

1. **Black Box**  
   In a black box test, the security professional performs the test with no prior knowledge of the target. This means they don't know anything about the organization's infrastructure, running services, or any other relevant details. This type of test is the most challenging and the most common, as it simulates a real-world attack by an external attacker.

2. **Gray Box**  
   The gray box test is an intermediate approach. The pentester has some limited knowledge about the organization but doesn't have full access to its systems. This typically represents the perspective of an internal attacker with limited privileges. This approach is useful for simulating attacks carried out by employees or ex-employees of the organization.

3. **White Box**  
   The white box test is the most comprehensive, where the pentester has full knowledge of the target, including details of the infrastructure and source code (when applicable). This test simulates a scenario where an attacker has administrative privileges or is acting as an insider with full access to the system. This allows for the identification of vulnerabilities that may not be easily discovered through external approaches.

### Phases of a Penetration Test

The PenTest methodology may vary depending on the certification or type of test being performed, but it generally follows the phases below:

1. **Reconnaissance**  
   The first phase of a PenTest involves gathering information about the target. The goal is to discover as much as possible about the target's infrastructure without being detected. This includes details about domains, servers, IP addresses, public employee data, social media, etc. Tools like *whois*, *dnsdumpster*, and *theHarvester* can be useful for this collection.

   **Objectives:**  
   - Identify subdomains and servers.
   - Search for publicly exposed information (data leaks, social media exposure, etc.).
   - Map out networks and services.

2. **Scanning**  
   In this phase, the pentester begins actively analyzing the identified network and systems from the reconnaissance phase. They aim to identify open ports, running services, and known vulnerabilities. Tools like *Nmap*, *Nessus*, and *OpenVAS* are often used to perform IP and service scans.

   **Objectives:**  
   - Identify active services and their versions.
   - Determine possible vulnerabilities in the services found.
   - Map out potential entry points for exploitation.

3. **Gaining Access**  
   Once vulnerabilities are identified, the next step is to exploit these weaknesses to gain access to the systems. This can be done through attacks such as *brute force*, *phishing*, *SQL injection*, or *software exploits*. The success of this phase depends on the quality of the information gathering and scanning performed in the previous phases.

   **Objectives:**  
   - Gain access to critical systems.
   - Exploit weaknesses to escalate privileges.
   - Compromise a system or network.

4. **Maintaining Access**  
   After gaining access, the pentester may attempt to maintain control over the system to perform additional tests or simulate the persistence of an attacker. This can be done through the installation of backdoors, creation of new users with elevated privileges, or scheduling malicious processes.

   **Objectives:**  
   - Create persistent access points.
   - Assess the difficulty of removing traces or backdoors.
   - Explore the network internally for lateral movement.

5. **Covering Tracks**  
   In this phase, the goal is to minimize detection by erasing logs or altering security configurations. This simulates the behavior of a real attacker attempting to avoid detection by the security team. While this step is crucial in real-world attack scenarios, itâ€™s important that the pentester is transparent in documenting how evidence was manipulated.

   **Objectives:**  
   - Delete or modify event logs.
   - Conceal the origin of the attack (using proxies, VPNs, etc.).
   - Remove attack tools.

### Non-Disclosure Agreement (NDA) and Confidentiality Agreement

Before beginning any penetration test, it is essential to establish a confidentiality agreement with the client, typically in the form of an **NDA (Non-Disclosure Agreement)**. This document is crucial to ensure that the test's scope, each party's responsibilities, and any sensitive information are clearly defined.

- **Scope:** Clearly defines what will be tested, which systems are included, and any time or personnel interaction restrictions.
- **Limits:** Establishes the boun
